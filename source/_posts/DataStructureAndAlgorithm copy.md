---
title: 数据结构与算法（中）
layout: post
date: 2021-12-18 19:20
comments: true
tags: 
	- javaScript
key: "1"
---

### 哈希表

> 哈希表是基于数组进行实现的，但相较于数组，有很多优势：

<!--more-->

1. 可以提供非常快速的插入-删除-查找操作
2. 无论数据多少，插入和删除值需要接近常量时间：即 O(1)的时间极，实际上，只需要几个机械指令即可完成
3. 速度比树还要快，基本可以瞬间查找到想要的元素
4. 相对于树来说编码要容易多
   **缺点：** 1. 无序存储的数据，不能以一种固定的方式（从大到小或从小到大）进行遍历；2. 不能存在相同的 key，用于存储不同的数据

### 定义

> 结构是数组，神奇的地方在于对下标值的一种变换，这种变换称之为哈希函数，通过哈希函数可以获取到 HashCode。

### 案列

> 使用一种数据结构存储单词信息，比如有 50000 个单词，找到单词后每个单词有自己的翻译&读音&应用等等
**方案一：** 设计一套自己的编码系统如 a=1, b=2, c=3 一次类推（不考虑大小写问题），z=26，空格用 0 表示。对应一个单词转成数字为字母对应数字总和。（数字相加）例如：cats = 3+1+20+19 = 43，将 43 作为单词下标存在数组中
**存在问题：** 很多单词下标最终有可能都为 43，由于一个下标值只能存储一个数据，必然会造成数据覆盖，这样存储多个单词显然不合理
**方案二：** 幂的连乘，比如我们平时使用大于 10 的数字可以用幂的连乘表示他的唯一性，比如：7654= 7*10^3+6*10^2+5\*10+4
**存在问题：**产生的数字过大会造成内存占用较大

### 哈希表的一些概念

- **哈希化：** 将大数字转化成数组范围内下标的过程
- **哈希函数：** 通常我们会将单词转换成大数字，大数字进行哈希化的代码实现放在一个函数中，这个函数称为哈希函数
- **哈希表：** 将最终数据插入到这个数组，对整个结构的封装，称之为一个哈希表

**问题：** 尽管 50000 个单词，使用 100000 个位置来存储，并通过一种相比较好的哈希函数来完成，依然有可能会发生冲突。
如何解决这种冲突呢，有两种方案：

1. 链地址法
2. 开放地址法

### 链地址法

> 每个数组单元存储的不再是单个数据，而是一个链条，数据结构可以是数组或链表。

### 开放地址法

> 主要工作方式是寻找空白的单元格来添加重复的数据
 - 线性探测：如果插入连续的数据，新插入的数据可能需要探测很长的距离。（探测步长为1）
 - 二次探测：在线性探测的基础上进行了优化（主要是优化探测步长），可以一次探测比较长的距离，避免聚集带来的影响。
 存在问题：连续插入32-112-82-2-192，依次累加的时候步长相同

 ### 再哈希法
 - 为了消除线性探测和二次探测中无论步长+1还是步长+平方中存在的问题。
 再哈希法是把关键字用另外一个哈希函数，再做一次哈希化，使用这次哈希化的结果作为步长，对于指定的关键字，步长在整个探测中是不变的不过不同的关键字使用不同的步长


